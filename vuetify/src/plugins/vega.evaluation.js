import Vue from "./resource";
import { API_SERVER } from "./resource";

let CACHE_CSV_REQUEST = {}
const VEGA_EMBED_OPTS = {"mode": "vega-lite","actions": false};

async function getCSVData(urls) {
  // Get data for each url if not in cache
  let csvData = await Promise.all(
    urls.map(async url => {
      if (!CACHE_CSV_REQUEST[url]) {
        console.log(`not cached: ${url}`)
        // No cache so get and save
        let response = await Vue.http.get(url);
        let csvText = await response.text();
        CACHE_CSV_REQUEST[url] = csvText;
      }
      return CACHE_CSV_REQUEST[url];
    })
  );

  return csvData
}

export async function createCommonGraphs(projectId, width = 400) {
  let baseUrl = `${API_SERVER}/v1/csv/eval/${projectId}`;
  console.log(`base url ${baseUrl}`);
  console.log(`created with ${width}`);

  let configuredWidth_400 = width - 40;

  let csvData = await getCSVData([
    `${baseUrl}/bullet_principles.csv`,
    `${baseUrl}/global.csv`,
    `${baseUrl}/phases.csv`,
    `${baseUrl}/heatmap.csv`,
  ]);

  let bulletCSV = csvData[0]
  let globalCSV = csvData[1]
  let phasesCSV = csvData[2]
  let heatmapCSV = csvData[3]


  var specGlobalPosition = {"config": {"view": {"width": configuredWidth_400-40, "height": 300, "strokeWidth": 0}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 20, "titleFontWeight": 400, "titlePadding": 5}, "axisX": {"grid": false, "tickRound": true}, "axisY": {"grid": false, "labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 20, "titleFontWeight": 400, "titlePadding": 5, "titleX": -20, "titleY": 75}}, "layer": [{"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "rule", "color": "lightgray"}, "encoding": {"y": {"type": "quantitative", "aggregate": "mean", "field": "Coherence", "scale": {"domain": [0, 7]}, "title": "Coherence"}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "rule", "color": "lightgray"}, "encoding": {"x": {"type": "quantitative", "aggregate": "mean", "field": "Evaluation", "scale": {"domain": [0, 7]}, "title": "Evaluation"}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "circle", "size": 150}, "encoding": {"color": {"value": "gray"}, "opacity": {"value": 0.8}, "x": {"type": "quantitative", "axis": {"format": "d", "tickCount": 7}, "field": "Evaluation", "scale": {"domain": [0, 7]}}, "y": {"type": "quantitative", "axis": {"format": "d", "tickCount": 7}, "field": "Coherence", "scale": {"domain": [0, 7]}}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "circle", "size": 200, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"color": {"value": "yellow"}, "x": {"type": "quantitative", "field": "Evaluation", "scale": {"domain": [0, 7]}}, "y": {"type": "quantitative", "field": "Coherence", "scale": {"domain": [0, 7]}}}, "transform": [{"filter": "(datum.Highlight === 'True')"}]}], "height": 150, "width": configuredWidth_400-40, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#scatterchart", specGlobalPosition, VEGA_EMBED_OPTS)

  var specEvolution = {"config": {"view": {"width": configuredWidth_400 - 40, "height": 300, "strokeWidth": 0}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 20, "titleFontWeight": 400, "titlePadding": 5}, "axisX": {"grid": false, "labelAngle": 0}}, "layer": [{"mark": {"type": "bar", "color": "#ffffff", "size": 100}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "scaleMax", "title": null}}, "transform": [{"calculate": "((datum.MAX * 0) + 7)", "as": "scaleMax"}]}, {"mark": {"type": "bar", "color": "gray", "size": 2}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MAX", "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff"}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MIN", "title": null}}}, {"mark": {"type": "tick", "color": "gray", "size": 10}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MAX", "title": null}}}, {"mark": {"type": "tick", "color": "gray", "size": 10}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MIN", "title": null}}}, {"mark": {"type": "circle", "color": "gray", "opacity": 1, "size": 60}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "Q2", "title": null}}}, {"data": {"values": phasesCSV, "format":{"type": "csv"}}, "mark": {"type": "line", "color": "yellow", "size": 4}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "Value", "title": null}}}, {"data": {"values": phasesCSV, "format":{"type": "csv"}}, "mark": {"type": "line", "color": "black", "opacity": 0.5, "strokeWidth": 0.3}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "borderblack", "title": null}}, "transform": [{"calculate": "(datum.Value - 0.05)", "as": "borderblack"}]}], "data": {"values": phasesCSV, "format":{"type": "csv"}}, "height": 150, "width": configuredWidth_400-25, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#linechart", specEvolution, VEGA_EMBED_OPTS);

  var specHeatMap = {"config": {"view": {"width": configuredWidth_400, "height": 300}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 14, "titleFontWeight": 500, "titlePadding": 5}, "axisX": {"grid": false, "labelAngle": 0, "labelOverlap": false, "labelPadding": 5, "tickSize": 0}, "axisY": {"labelPadding": 5, "ticks": false, "titleAngle": 0, "titleX": 20, "titleY": -5}}, "data": {"values": heatmapCSV, "format":{"type": "csv"}}, "mark": "rect", "encoding": {"color": {"type": "quantitative", "field": "xvalue", "legend": null, "scale": {"domain": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "range": ["#EEEEEE", "#BAECD7", "#7BE9C6", "#0FCBA3", "#00796B", "#EEEEEE", "#A8AAB2", "#7F87A8", "#4F5FA5", "#2F4193"]}}, "tooltip": {"type": "quantitative", "field": "Value"}, "x": {"type": "nominal", "axis": {"orient": "top"}, "field": "labelx", "scale": {"paddingInner": 0, "rangeStep": 200}, "title": null}, "y": {"type": "nominal", "axis": {"orient": "right"}, "field": "Dimension", "title": "Stage"}}, "transform": [{"calculate": "datum.Principle == 1 ? datum.Value : toNumber(datum.Value) + 5 ", "as": "xvalue"}, {"calculate": "datum.Principle == 1 ? \"Engagement\" : \"Responsiveness\"", "as": "labelx"}], "height": 250, "width": configuredWidth_400 - 180, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#heatchart", specHeatMap, VEGA_EMBED_OPTS);

  // PRINCIPLE BULLET CHARTS
  var specTransform = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Transformative')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#transfchart", specTransform, VEGA_EMBED_OPTS);

  var specCitizen = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height":60, "transform": [{"filter": "(datum.Indicator === 'Citizen-led')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#citizchart", specCitizen, VEGA_EMBED_OPTS);

  var specPartic = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Participatory')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#partchart", specPartic, VEGA_EMBED_OPTS);

  var specKnow = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Knowledge')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#knowchart", specKnow, VEGA_EMBED_OPTS);

  var specInteg = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Integrity')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#integchart", specInteg, VEGA_EMBED_OPTS);

}


export async function createParticipantBulletGraph(projectId, width=400){
  let baseUrl = `${API_SERVER}/v1/csv/eval/${projectId}`
  console.log(`base url ${baseUrl}`)
  console.log(`created with ${width}`)

  let configuredWidth_400 = width - 40
  let configuredWidth_280 = configuredWidth_400 - 120

  let csvData = await getCSVData([
    `${baseUrl}/bullet_dimensions.csv`,
  ]);

  let bulletCSV = csvData[0]

  //Transformative details
  var specTransformativeCollective = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeCollective')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeCollectiveChart", specTransformativeCollective, VEGA_EMBED_OPTS);

  var specTransformativeSkills = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeSkills')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeSkillsChart", specTransformativeSkills, VEGA_EMBED_OPTS);

  var specTransformativePolicy
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativePolicy')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativePolicyChart", specTransformativePolicy, VEGA_EMBED_OPTS);

  var specTransformativeSelf = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeSelf')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeSelfChart", specTransformativeSelf, VEGA_EMBED_OPTS);


  //Citizen details
  var specCitizenCommunity
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenCommunity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenCommunityChart", specCitizenCommunity, VEGA_EMBED_OPTS);

  var specCitizenResponsiveness = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenResponsiveness')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenResponsivenessChart", specCitizenResponsiveness, VEGA_EMBED_OPTS);


  //Knowledge details
  var specKnowledgeOpenness = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeOpenness')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeOpennessChart", specKnowledgeOpenness, VEGA_EMBED_OPTS);

  var specKnowledgeRelevance
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeRelevance')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeRelevanceChart", specKnowledgeRelevance, VEGA_EMBED_OPTS);

  var specKnowledgeTransdiscipl = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeTransdiscipl')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeTransdisciplChart", specKnowledgeTransdiscipl, VEGA_EMBED_OPTS);


  //Participatory details
  var specParticipatoryEngagement = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryEngagement')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryEngagementChart", specParticipatoryEngagement, VEGA_EMBED_OPTS);

  var specParticipatoryImpact = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryImpact')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryImpactChart", specParticipatoryImpact, VEGA_EMBED_OPTS);

  var specParticipatoryMotivation
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryMotivation')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryMotivationChart", specParticipatoryMotivation, VEGA_EMBED_OPTS);

  var specParticipatorySatisfaction = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatorySatisfaction')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatorySatisfactionChart", specParticipatorySatisfaction, VEGA_EMBED_OPTS);


  //Integrity details
  var specIntegrityExpectation = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityExpectation')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityExpectationChart", specIntegrityExpectation, VEGA_EMBED_OPTS);

  var specIntegrityGender = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityGender')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityGenderChart", specIntegrityGender, VEGA_EMBED_OPTS);

  var specIntegrityInclusivity = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityInclusivity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityInclusivityChart", specIntegrityInclusivity, VEGA_EMBED_OPTS);

  var specIntegrityReflexivity = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityReflexivity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityReflexivityChart", specIntegrityReflexivity, VEGA_EMBED_OPTS);

  var specIntegrityResource
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityResource')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityResourceChart", specIntegrityResource, VEGA_EMBED_OPTS);

  var specIntegrityTransparency = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityTransparency')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityTransparencyChart", specIntegrityTransparency, VEGA_EMBED_OPTS);


}


export async function createManagerBulletGraph(projectId, width=400){
  let baseUrl = `${API_SERVER}/v1/csv/eval/${projectId}`
  console.log(`base url ${baseUrl}`)
  console.log(`created with ${width}`)

  let configuredWidth_400 = width - 40
  let configuredWidth_280 = configuredWidth_400 - 120

  let csvData = await getCSVData([
    `${baseUrl}/bullet_roles.csv`,
  ]);

  let bulletCSV = csvData[0]

  //Transformative roles
  var specTransformativeProject = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeProject')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeProjectChart", specTransformativeProject, VEGA_EMBED_OPTS);

  var specTransformativeCivil = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeCivil')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeCivilChart", specTransformativeCivil, VEGA_EMBED_OPTS);

  var specTransformativeScientist
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeScientist')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeScientistChart", specTransformativeScientist, VEGA_EMBED_OPTS);

  var specTransformativeStudent = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeStudent')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeStudentChart", specTransformativeStudent, VEGA_EMBED_OPTS);


  //Knowledge roles
  var specKnowledgeProject = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeProject')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeProjectChart", specKnowledgeProject, VEGA_EMBED_OPTS);

  var specKnowledgeCivil = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeCivil')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeCivilChart", specKnowledgeCivil, VEGA_EMBED_OPTS);

  var specKnowledgeScientist
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeScientist')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeScientistChart", specKnowledgeScientist, VEGA_EMBED_OPTS);

  var specKnowledgeStudent = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeStudent')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeStudentChart", specKnowledgeStudent, VEGA_EMBED_OPTS);


  //Participatory roles
  var specParticipatoryProject = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryProject')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryProjectChart", specParticipatoryProject, VEGA_EMBED_OPTS);

  var specParticipatoryCivil = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryCivil')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryCivilChart", specParticipatoryCivil, VEGA_EMBED_OPTS);

  var specParticipatoryScientist
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryScientist')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryScientistChart", specParticipatoryScientist, VEGA_EMBED_OPTS);

  var specParticipatoryStudent = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryStudent')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryStudentChart", specParticipatoryStudent, VEGA_EMBED_OPTS);

  //Integrity roles
  var specIntegrityProject = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityProject')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityProjectChart", specIntegrityProject, VEGA_EMBED_OPTS);

  var specIntegrityCivil = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityCivil')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityCivilChart", specIntegrityCivil, VEGA_EMBED_OPTS);

  var specIntegrityScientist
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityScientist')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityScientistChart", specIntegrityScientist, VEGA_EMBED_OPTS);

  var specIntegrityStudent = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityStudent')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityStudentChart", specIntegrityStudent, VEGA_EMBED_OPTS);


  //Citizen roles
  var specCitizenProject = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenProject')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenProjectChart", specCitizenProject, VEGA_EMBED_OPTS);

  var specCitizenCivil = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenCivil')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenCivilChart", specCitizenCivil, VEGA_EMBED_OPTS);

  var specCitizenScientist
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenScientist')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenScientistChart", specCitizenScientist, VEGA_EMBED_OPTS);

  var specCitizenStudent = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenStudent')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenStudentChart", specCitizenStudent, VEGA_EMBED_OPTS);


}