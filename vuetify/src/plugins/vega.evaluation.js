import Vue from "./resource";

let CACHE_CSV_REQUEST = null

/**
 * Create the Graphs
 *
 * @param {String} baseUrl
 * @param {String} authToken
 * @param {Number} width
 */
export async function createParticipantGraph(baseUrl="/data", width=400){

  console.log(`base url: ${baseUrl}`)
  console.log(`created with ${width}`)

  let configuredWidth_400 = width - 40
  let configuredWidth_280 = configuredWidth_400 - 120

  // Fetch data only if we have not fetch it before
  let csvRequests = CACHE_CSV_REQUEST
  if (!csvRequests){
    // Fetch all CSV endpoints in parallel
    csvRequests = await Promise.all([
      Vue.http.get(`${baseUrl}/bullets.csv`),
      Vue.http.get(`${baseUrl}/global.csv`),
      Vue.http.get(`${baseUrl}/phases.csv`),
      Vue.http.get(`${baseUrl}/heatmap.csv`),
    ])

    CACHE_CSV_REQUEST = csvRequests
  }

  // Parse Text from requests
  let bulletCSV = await csvRequests[0].text()
  let globalCSV = await csvRequests[1].text()
  let phasesCSV = await csvRequests[2].text()
  let heatmapCSV = await csvRequests[3].text()

  var embedOpt = {"mode": "vega-lite","actions": false};

  // Globals
  var specGlobalPosition = {"config": {"view": {"width": configuredWidth_400, "height": 300, "strokeWidth": 0}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 20, "titleFontWeight": 400, "titlePadding": 5}, "axisX": {"grid": false, "tickRound": true}, "axisY": {"grid": false, "labels": false, "tickSize": 0, "titleX": -5, "titleY": 65}}, "layer": [{"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "rule", "color": "lightgray"}, "encoding": {"y": {"type": "quantitative", "aggregate": "mean", "field": "Coherence", "scale": {"domain": [0, 7]}, "title": "Coherence"}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "rule", "color": "lightgray"}, "encoding": {"x": {"type": "quantitative", "aggregate": "mean", "field": "Evaluation", "scale": {"domain": [0, 7]}, "title": "Evaluation"}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "circle", "size": 150}, "encoding": {"color": {"value": "#00796B"}, "opacity": {"value": 0.3}, "x": {"type": "quantitative", "field": "Evaluation", "scale": {"domain": [0, 7]}}, "y": {"type": "quantitative", "field": "Coherence", "scale": {"domain": [0, 7]}}}}, {"data": {"values": globalCSV, "format":{"type": "csv"}}, "mark": {"type": "circle", "size": 200, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"color": {"value": "yellow"}, "x": {"type": "quantitative", "field": "Evaluation", "scale": {"domain": [0, 7]}}, "y": {"type": "quantitative", "field": "Coherence", "scale": {"domain": [0, 7]}}}, "transform": [{"filter": "(datum.Highlight === 'True')"}]}], "height": 150, "width": configuredWidth_400-25, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#scatterchart", specGlobalPosition, embedOpt)

  var specEvolution = {"config": {"view": {"width": configuredWidth_400, "height": 300, "strokeWidth": 0}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 20, "titleFontWeight": 400, "titlePadding": 5}, "axisX": {"grid": false, "labelAngle": 0}}, "layer": [{"mark": {"type": "bar", "color": "#ffffff", "size": 100}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "scaleMax", "title": null}}, "transform": [{"calculate": "((datum.MAX * 0) + 7)", "as": "scaleMax"}]}, {"mark": {"type": "bar", "color": "gray", "size": 2}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MAX", "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff"}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MIN", "title": null}}}, {"mark": {"type": "tick", "color": "gray", "size": 10}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MAX", "title": null}}}, {"mark": {"type": "tick", "color": "gray", "size": 10}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "MIN", "title": null}}}, {"mark": {"type": "circle", "color": "gray", "opacity": 1, "size": 60}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "Q2", "title": null}}}, {"data": {"values": phasesCSV, "format":{"type": "csv"}}, "mark": {"type": "line", "color": "yellow", "size": 4}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "Value", "title": null}}}, {"data": {"values": phasesCSV, "format":{"type": "csv"}}, "mark": {"type": "line", "color": "black", "opacity": 0.5, "strokeWidth": 0.3}, "encoding": {"x": {"type": "nominal", "field": "Dimension", "title": null}, "y": {"type": "quantitative", "field": "borderblack", "title": null}}, "transform": [{"calculate": "(datum.Value - 0.05)", "as": "borderblack"}]}], "data": {"values": phasesCSV, "format":{"type": "csv"}}, "height": 150, "width": configuredWidth_400-25, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#linechart", specEvolution, embedOpt);

  //stages
  var specHeatMap = {"config": {"view": {"width": configuredWidth_400, "height": 300}, "axis": {"labelFont": "Roboto,sans-serif", "labelFontSize": 14, "titleFont": "Roboto,sans-serif", "titleFontSize": 14, "titleFontWeight": 500, "titlePadding": 5}, "axisX": {"grid": false, "labelAngle": 0, "labelOverlap": false, "labelPadding": 5, "tickSize": 0}, "axisY": {"labelPadding": 5, "ticks": false, "titleAngle": 0, "titleX": 20, "titleY": -5}}, "data": {"values": heatmapCSV, "format":{"type": "csv"}}, "mark": "rect", "encoding": {"color": {"type": "quantitative", "field": "xvalue", "legend": null, "scale": {"domain": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "range": ["#EEEEEE", "#BAECD7", "#7BE9C6", "#0FCBA3", "#00796B", "#EEEEEE", "#A8AAB2", "#7F87A8", "#4F5FA5", "#2F4193"]}}, "tooltip": {"type": "quantitative", "field": "Value"}, "x": {"type": "nominal", "axis": {"orient": "top"}, "field": "labelx", "scale": {"paddingInner": 0, "rangeStep": 200}, "title": null}, "y": {"type": "nominal", "axis": {"orient": "right"}, "field": "Dimension", "title": "Stage"}}, "transform": [{"calculate": "datum.Principle == 1 ? datum.Value : toNumber(datum.Value) + 5 ", "as": "xvalue"}, {"calculate": "datum.Principle == 1 ? \"Engagement\" : \"Responsiveness\"", "as": "labelx"}], "height": 250, "width": 225,"$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#heatchart", specHeatMap, embedOpt);

  // //principles
  var specTransform = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Transformative')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#transfchart", specTransform, embedOpt);

  var specCitizen = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height":60, "transform": [{"filter": "(datum.Indicator === 'Citizen-led')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#citizchart", specCitizen, embedOpt);

  var specPartic = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Participatory')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#partchart", specPartic, embedOpt);

  var specKnow = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Knowledge')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#knowchart", specKnow, embedOpt);

  var specInteg = {"config": {"view": {"width": configuredWidth_400, "height": 60}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 60, "transform": [{"filter": "(datum.Indicator === 'Integrity')"}], "width": configuredWidth_400, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#integchart", specInteg, embedOpt);

  //Transformative details
  var specTransformativeCollective = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeCollective')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeCollectiveChart", specTransformativeCollective, embedOpt);

  var specTransformativeSkills = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeSkills')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeSkillsChart", specTransformativeSkills, embedOpt);

  var specTransformativePolicy
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativePolicy')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativePolicyChart", specTransformativePolicy, embedOpt);

  var specTransformativeSelf = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Transformative Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'TransformativeSelf')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#TransformativeSelfChart", specTransformativeSelf, embedOpt);
  //Citizen details
  var specCitizenCommunity
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenCommunity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenCommunityChart", specCitizenCommunity, embedOpt);

  var specCitizenResponsiveness = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Citizen Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'CitizenResponsiveness')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#CitizenResponsivenessChart", specCitizenResponsiveness, embedOpt);

  //Knowledge details
  var specKnowledgeOpenness = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeOpenness')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeOpennessChart", specKnowledgeOpenness, embedOpt);

  var specKnowledgeRelevance
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeRelevance')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeRelevanceChart", specKnowledgeRelevance, embedOpt);

  var specKnowledgeTransdiscipl = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Knowledge Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'KnowledgeTransdiscipl')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#KnowledgeTransdisciplChart", specKnowledgeTransdiscipl, embedOpt);

  //Participatory details

  var specParticipatoryEngagement = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryEngagement')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryEngagementChart", specParticipatoryEngagement, embedOpt);

  var specParticipatoryImpact = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryImpact')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryImpactChart", specParticipatoryImpact, embedOpt);

  var specParticipatoryMotivation
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatoryMotivation')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatoryMotivationChart", specParticipatoryMotivation, embedOpt);

  var specParticipatorySatisfaction = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Participatory Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'ParticipatorySatisfaction')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#ParticipatorySatisfactionChart", specParticipatorySatisfaction, embedOpt);

  //Integrity details

  var specIntegrityExpectation = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityExpectation')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityExpectationChart", specIntegrityExpectation, embedOpt);

  var specIntegrityGender = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityGender')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityGenderChart", specIntegrityGender, embedOpt);

  var specIntegrityInclusivity = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityInclusivity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityInclusivityChart", specIntegrityInclusivity, embedOpt);

  var specIntegrityReflexivity = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityReflexivity')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityReflexivityChart", specIntegrityReflexivity, embedOpt);

  var specIntegrityResource
  = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityResource')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityResourceChart", specIntegrityResource, embedOpt);

  var specIntegrityTransparency = {"config": {"view": {"width": configuredWidth_400, "height": 300}}, "layer": [{"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "MAX", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": "bar", "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q3", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#ffffff", "opacity": 1}, "encoding": {"x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "opacity": 0.3}, "encoding": {"color": {"type": "nominal", "field": "Principle", "legend": null, "scale": {"domain": ["Citizen-led Research", "Integrity", "Knowledge Democracy", "Participatory Dynamics", "Integrity Change"], "range": ["#00796B", "#F17600", "#2599D4", "#DAE14B", "#2F4193"]}}, "x": {"type": "quantitative", "field": "Q1", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "tick", "color": "#ff0000", "size": 30, "thickness": 1}, "encoding": {"x": {"type": "quantitative", "field": "Threshold", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "bar", "color": "#000000", "opacity": 1, "size": 2}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}, {"mark": {"type": "point", "fill": "#ffff00", "filled": true, "opacity": 1, "size": 120, "stroke": "#000000", "strokeWidth": 1}, "encoding": {"x": {"type": "quantitative", "field": "AbsValue", "scale": {"domain": [0, 7]}, "title": null}}}], "data": {"values": bulletCSV, "format":{"type": "csv"}}, "height": 40, "transform": [{"filter": "(datum.Indicator === 'IntegrityTransparency')"}], "width": configuredWidth_280, "$schema": "https://vega.github.io/schema/vega-lite/v2.6.0.json"};
  vegaEmbed("#IntegrityTransparencyChart", specIntegrityTransparency, embedOpt);


}
